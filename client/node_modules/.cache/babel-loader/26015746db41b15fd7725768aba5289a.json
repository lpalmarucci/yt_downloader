{"ast":null,"code":"var _jsxFileName = \"/Users/palma/Desktop/apollo/youtube_dl/client/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport Header from \"./Header\";\nimport React, { useState } from 'react';\nimport { Button, TextField, Typography, Container } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport loginQuery from \"./managers/queries/loginQuery\";\nimport { gql } from \"@apollo/client\"; // const LOGIN = gql`\n// \tquery{\n// \t\tlogin(email: $email, password: $password){\n// \t\t\taccessToken\n// \t\t}\n// \t}\n// `\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [user, setUser] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleLoginClick = e => {\n    e.preventDefault();\n\n    if (user.length === 0 || password.length === 0) {\n      setErrorMessage(\"Valorizzare tutti i campi\");\n    } else {\n      console.log(loginQuery);\n      fetch(process.env.GRAPQHL_URI, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          'accept': 'application/json'\n        },\n        body: JSON.stringify({\n          query: loginQuery,\n          variables: {\n            email: user,\n            password\n          }\n        })\n      }).then(res => res.json().then(res => {\n        console.log(JSON.stringify(res)); // if (\"errorMessage\" in res) {\n        // \tsetErrorMessage(res.errorMessage);\n        // } else if (\"logged\" in res && res.logged) {\n        // \t/* Cookies.set(\"token\",res.token,{\n        // \t\t\texpires: 60*60\n        // \t}) */\n        // \twindow.location = '/';\n        // }\n      }));\n    }\n  };\n\n  var displayErrorMessage = /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 28\n  }, this);\n\n  if (errorMessage.length > 0) {\n    displayErrorMessage = /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      style: {\n        \"marginTop\": \"10px\"\n      },\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"5%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        component: \"main\",\n        maxWidth: \"xs\",\n        children: [errorMessage.length > 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          style: {\n            \"marginTop\": \"10px\"\n          },\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            component: \"h1\",\n            variant: \"h5\",\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            noValidate: true,\n            method: \"POST\",\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"user\",\n              label: \"Username\",\n              name: \"user\",\n              autoComplete: \"userName\",\n              autoFocus: true,\n              onChange: e => setUser(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              name: \"password\",\n              label: \"Password\",\n              type: \"password\",\n              id: \"password\",\n              autoComplete: \"current-password\",\n              onChange: e => {\n                setPassword(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              fullWidth: true,\n              variant: \"contained\",\n              color: \"primary\",\n              style: {\n                marginTop: \"10px\"\n              },\n              onClick: handleLoginClick,\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Login, \"iX0m2dBy3qQxvTwFwpN2E21Vwp4=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/palma/Desktop/apollo/youtube_dl/client/src/components/Login.js"],"names":["Header","React","useState","Button","TextField","Typography","Container","Alert","loginQuery","gql","Login","user","setUser","password","setPassword","errorMessage","setErrorMessage","handleLoginClick","e","preventDefault","length","console","log","fetch","process","env","GRAPQHL_URI","method","headers","body","JSON","stringify","query","variables","email","then","res","json","displayErrorMessage","marginTop","target","value"],"mappings":"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","sourcesContent":["import Header from \"./Header\"\nimport React, { useState } from 'react'\nimport { Button, TextField, Typography, Container } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\nimport loginQuery from \"./managers/queries/loginQuery\";\nimport { gql } from \"@apollo/client\";\n\n// const LOGIN = gql`\n// \tquery{\n// \t\tlogin(email: $email, password: $password){\n// \t\t\taccessToken\n// \t\t}\n// \t}\n// `\n\nconst Login = () => {\n\tconst [user, setUser] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [errorMessage, setErrorMessage] = useState(\"\");\n\n\tconst handleLoginClick = (e) => {\n\t\te.preventDefault();\n\t\tif (user.length === 0 || password.length === 0) {\n\t\t\tsetErrorMessage(\"Valorizzare tutti i campi\");\n\t\t} else {\n\t\t\tconsole.log(loginQuery);\n\t\t\tfetch(process.env.GRAPQHL_URI, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'accept': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tquery: loginQuery,\n\t\t\t\t\tvariables: {email: user, password} \n\t\t\t\t})\n\t\t\t}).then(res => res.json().then((res) => {\n\t\t\t\tconsole.log(JSON.stringify(res));\n\t\t\t\t// if (\"errorMessage\" in res) {\n\t\t\t\t// \tsetErrorMessage(res.errorMessage);\n\t\t\t\t// } else if (\"logged\" in res && res.logged) {\n\t\t\t\t// \t/* Cookies.set(\"token\",res.token,{\n\t\t\t\t// \t\t\texpires: 60*60\n\t\t\t\t// \t}) */\n\t\t\t\t// \twindow.location = '/';\n\t\t\t\t// }\n\t\t\t}));\n\t\t}\n\t}\n\tvar displayErrorMessage = <div></div>;\n\tif (errorMessage.length > 0) {\n\t\tdisplayErrorMessage = <Alert\n\t\t\tseverity=\"error\"\n\t\t\tstyle={{ \"marginTop\": \"10px\" }}>\n\t\t\t{errorMessage}\n\t\t</Alert>\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Header />\n\t\t\t<div style={{ marginTop: \"5%\" }}>\n\t\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t\t\t{errorMessage.length > 0 ? <Alert\n\t\t\t\t\t\tseverity=\"error\"\n\t\t\t\t\t\tstyle={{ \"marginTop\": \"10px\" }}>\n\t\t\t\t\t\t{errorMessage}\n\t\t\t\t\t</Alert> :\n\t\t\t\t\t\t<div></div>}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\t\tSign in\n                        </Typography>\n\t\t\t\t\t\t<form noValidate method=\"POST\">\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"user\"\n\t\t\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\t\t\tname=\"user\"\n\t\t\t\t\t\t\t\tautoComplete=\"userName\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={(e) => setUser(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\tonChange={(e) => { setPassword(e.target.value) }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tstyle={{ marginTop: \"10px\" }}\n\t\t\t\t\t\t\t\tonClick={handleLoginClick}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSign In\n                            </Button>\n\t\t\t\t\t\t\t{/* Show/Hide error message */}\n\t\t\t\t\t\t\t{/* {displayErrorMessage} */}\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}